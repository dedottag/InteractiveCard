{"ast":null,"code":"import './utils/cardTypes-4f45f8d3.js';\nimport './utils/validator-0f41e23d.js';\nimport { b as _slicedToArray, c as _objectSpread, d as _defineProperty, e as _objectWithoutProperties } from './chunk-7eee66c0.js';\nimport './utils/formatter-b0b2372d.js';\nimport utils from './utils/index.js';\nimport React from 'react';\nfunction usePaymentCard() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    _ref$autoFocus = _ref.autoFocus,\n    autoFocus = _ref$autoFocus === void 0 ? true : _ref$autoFocus,\n    errorMessages = _ref.errorMessages,\n    onBlur = _ref.onBlur,\n    onChange = _ref.onChange,\n    onError = _ref.onError,\n    onTouch = _ref.onTouch,\n    cardNumberValidator = _ref.cardNumberValidator,\n    cvcValidator = _ref.cvcValidator,\n    expiryValidator = _ref.expiryValidator;\n  var cardNumberField = React.useRef();\n  var expiryDateField = React.useRef();\n  var cvcField = React.useRef();\n  var zipField = React.useRef();\n  /** ====== START: META STUFF ====== */\n\n  var _React$useState = React.useState({\n      cardNumber: false,\n      expiryDate: false,\n      cvc: false,\n      zip: false\n    }),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    touchedInputs = _React$useState2[0],\n    setTouchedInputs = _React$useState2[1];\n  var _React$useState3 = React.useState(false),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    isTouched = _React$useState4[0],\n    setIsTouched = _React$useState4[1];\n  var _React$useState5 = React.useState({\n      cardNumber: undefined,\n      expiryDate: undefined,\n      cvc: undefined,\n      zip: undefined\n    }),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    erroredInputs = _React$useState6[0],\n    setErroredInputs = _React$useState6[1];\n  var _React$useState7 = React.useState(),\n    _React$useState8 = _slicedToArray(_React$useState7, 2),\n    error = _React$useState8[0],\n    setError = _React$useState8[1];\n  var _React$useState9 = React.useState(),\n    _React$useState10 = _slicedToArray(_React$useState9, 2),\n    cardType = _React$useState10[0],\n    setCardType = _React$useState10[1];\n  var _React$useState11 = React.useState(),\n    _React$useState12 = _slicedToArray(_React$useState11, 2),\n    focused = _React$useState12[0],\n    setFocused = _React$useState12[1];\n  var setInputError = React.useCallback(function (input, error) {\n    setErroredInputs(function (erroredInputs) {\n      if (erroredInputs[input] === error) return erroredInputs;\n      var newError = error;\n      var newErroredInputs = _objectSpread({}, erroredInputs, _defineProperty({}, input, error));\n      if (error) {\n        setError(error);\n      } else {\n        newError = Object.values(newErroredInputs).find(Boolean);\n        setError(newError);\n      }\n      onError && onError(newError, newErroredInputs);\n      return newErroredInputs;\n    });\n  }, []); // eslint-disable-line\n\n  var setInputTouched = React.useCallback(function (input, value) {\n    requestAnimationFrame(function () {\n      if (document.activeElement.tagName !== 'INPUT') {\n        setIsTouched(true);\n      } else if (value === false) {\n        setIsTouched(false);\n      }\n    });\n    setTouchedInputs(function (touchedInputs) {\n      if (touchedInputs[input] === value) return touchedInputs;\n      var newTouchedInputs = _objectSpread({}, touchedInputs, _defineProperty({}, input, value));\n      onTouch && onTouch(_defineProperty({}, input, value), newTouchedInputs);\n      return newTouchedInputs;\n    });\n  }, []); // eslint-disable-line\n\n  /** ====== END: META STUFF ====== */\n\n  /** ====== START: CARD NUMBER STUFF ====== */\n\n  var handleBlurCardNumber = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onBlur && props.onBlur(e);\n      onBlur && onBlur(e);\n      setFocused(undefined);\n      setInputTouched('cardNumber', true);\n    };\n  }, [onBlur, setInputTouched]);\n  var handleChangeCardNumber = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      var formattedCardNumber = e.target.value || '';\n      var cardNumber = formattedCardNumber.replace(/\\s/g, '');\n      var cursorPosition = cardNumberField.current.selectionStart;\n      var cardType = utils.cardTypes.getCardTypeByValue(cardNumber);\n      setCardType(cardType);\n      setInputTouched('cardNumber', false); // @ts-ignore\n\n      cardNumberField.current.value = utils.formatter.formatCardNumber(cardNumber);\n      props.onChange && props.onChange(e);\n      onChange && onChange(e); // Due to the card number formatting, the selection cursor will fall to the end of\n      // the input field. Here, we want to reposition the cursor to the correct place.\n\n      requestAnimationFrame(function () {\n        if (document.activeElement !== cardNumberField.current) return;\n        if (cardNumberField.current.value[cursorPosition - 1] === ' ') {\n          cursorPosition = cursorPosition + 1;\n        }\n        cardNumberField.current.setSelectionRange(cursorPosition, cursorPosition);\n      });\n      var cardNumberError = utils.validator.getCardNumberError(cardNumber, cardNumberValidator, {\n        errorMessages: errorMessages\n      });\n      if (!cardNumberError && autoFocus) {\n        expiryDateField.current && expiryDateField.current.focus();\n      }\n      setInputError('cardNumber', cardNumberError);\n      props.onError && props.onError(cardNumberError);\n    };\n  }, [autoFocus, cardNumberValidator, errorMessages, onChange, setInputError, setInputTouched]);\n  var handleFocusCardNumber = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onFocus && props.onFocus(e);\n      setFocused('cardNumber');\n    };\n  }, []);\n  var handleKeyPressCardNumber = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      var formattedCardNumber = e.target.value || '';\n      var cardNumber = formattedCardNumber.replace(/\\s/g, '');\n      props.onKeyPress && props.onKeyPress(e);\n      if (e.key !== utils.ENTER_KEY_CODE) {\n        if (!utils.validator.isNumeric(e)) {\n          e.preventDefault();\n        }\n        if (utils.validator.hasCardNumberReachedMaxLength(cardNumber)) {\n          e.preventDefault();\n        }\n      }\n    };\n  }, []);\n  var getCardNumberProps = React.useCallback(function () {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var refKey = _ref2.refKey,\n      props = _objectWithoutProperties(_ref2, [\"refKey\"]);\n    return _objectSpread(_defineProperty({\n      'aria-label': 'Card number',\n      autoComplete: 'cc-number',\n      id: 'cardNumber',\n      name: 'cardNumber',\n      placeholder: 'Card number',\n      type: 'tel'\n    }, refKey || 'ref', cardNumberField), props, {\n      onBlur: handleBlurCardNumber(props),\n      onChange: handleChangeCardNumber(props),\n      onFocus: handleFocusCardNumber(props),\n      onKeyPress: handleKeyPressCardNumber(props)\n    });\n  }, [handleBlurCardNumber, handleChangeCardNumber, handleFocusCardNumber, handleKeyPressCardNumber]);\n  /** ====== END: CARD NUMBER STUFF ====== */\n\n  /** ====== START: EXPIRY DATE STUFF ====== */\n\n  var handleBlurExpiryDate = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onBlur && props.onBlur(e);\n      onBlur && onBlur(e);\n      setFocused(undefined);\n      setInputTouched('expiryDate', true);\n    };\n  }, [onBlur, setInputTouched]);\n  var handleChangeExpiryDate = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      setInputTouched('expiryDate', false);\n      expiryDateField.current.value = utils.formatter.formatExpiry(e);\n      props.onChange && props.onChange(e);\n      onChange && onChange(e);\n      var expiryDateError = utils.validator.getExpiryDateError(expiryDateField.current.value, expiryValidator, {\n        errorMessages: errorMessages\n      });\n      if (!expiryDateError && autoFocus) {\n        cvcField.current && cvcField.current.focus();\n      }\n      setInputError('expiryDate', expiryDateError);\n      props.onError && props.onError(expiryDateError);\n    };\n  }, [autoFocus, errorMessages, expiryValidator, onChange, setInputError, setInputTouched]);\n  var handleFocusExpiryDate = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onFocus && props.onFocus(e);\n      setFocused('expiryDate');\n    };\n  }, []);\n  var handleKeyDownExpiryDate = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onKeyDown && props.onKeyDown(e);\n      if (e.key === utils.BACKSPACE_KEY_CODE && !e.target.value && autoFocus) {\n        cardNumberField.current && cardNumberField.current.focus();\n      }\n    };\n  }, [autoFocus]);\n  var handleKeyPressExpiryDate = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      var formattedExpiryDate = e.target.value || '';\n      var expiryDate = formattedExpiryDate.replace(' / ', '');\n      props.onKeyPress && props.onKeyPress(e);\n      if (e.key !== utils.ENTER_KEY_CODE) {\n        if (!utils.validator.isNumeric(e)) {\n          e.preventDefault();\n        }\n        if (expiryDate.length >= 4) {\n          e.preventDefault();\n        }\n      }\n    };\n  }, []);\n  var getExpiryDateProps = React.useCallback(function () {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var refKey = _ref3.refKey,\n      props = _objectWithoutProperties(_ref3, [\"refKey\"]);\n    return _objectSpread(_defineProperty({\n      'aria-label': 'Expiry date in format MM YY',\n      autoComplete: 'cc-exp',\n      id: 'expiryDate',\n      name: 'expiryDate',\n      placeholder: 'MM/YY',\n      type: 'tel'\n    }, refKey || 'ref', expiryDateField), props, {\n      onBlur: handleBlurExpiryDate(props),\n      onChange: handleChangeExpiryDate(props),\n      onFocus: handleFocusExpiryDate(props),\n      onKeyDown: handleKeyDownExpiryDate(props),\n      onKeyPress: handleKeyPressExpiryDate(props)\n    });\n  }, [handleBlurExpiryDate, handleChangeExpiryDate, handleFocusExpiryDate, handleKeyDownExpiryDate, handleKeyPressExpiryDate]);\n  /** ====== END: EXPIRY DATE STUFF ====== */\n\n  /** ====== START: CVC STUFF ====== */\n\n  var handleBlurCVC = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onBlur && props.onBlur(e);\n      onBlur && onBlur(e);\n      setFocused(undefined);\n      setInputTouched('cvc', true);\n    };\n  }, [onBlur, setInputTouched]);\n  var handleChangeCVC = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      cardType = _ref4.cardType;\n    return function (e) {\n      var cvc = e.target.value;\n      setInputTouched('cvc', false);\n      props.onChange && props.onChange(e);\n      onChange && onChange(e);\n      var cvcError = utils.validator.getCVCError(cvc, cvcValidator, {\n        cardType: cardType,\n        errorMessages: errorMessages\n      });\n      if (!cvcError && autoFocus) {\n        zipField.current && zipField.current.focus();\n      }\n      setInputError('cvc', cvcError);\n      props.onError && props.onError(cvcError);\n    };\n  }, [autoFocus, cvcValidator, errorMessages, onChange, setInputError, setInputTouched]);\n  var handleFocusCVC = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onFocus && props.onFocus(e);\n      setFocused('cvc');\n    };\n  }, []);\n  var handleKeyDownCVC = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onKeyDown && props.onKeyDown(e);\n      if (e.key === utils.BACKSPACE_KEY_CODE && !e.target.value && autoFocus) {\n        expiryDateField.current && expiryDateField.current.focus();\n      }\n    };\n  }, [autoFocus]);\n  var handleKeyPressCVC = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _ref5 = arguments.length > 1 ? arguments[1] : undefined,\n      cardType = _ref5.cardType;\n    return function (e) {\n      var formattedCVC = e.target.value || '';\n      var cvc = formattedCVC.replace(' / ', '');\n      props.onKeyPress && props.onKeyPress(e);\n      if (e.key !== utils.ENTER_KEY_CODE) {\n        if (!utils.validator.isNumeric(e)) {\n          e.preventDefault();\n        }\n        if (cardType && cvc.length >= cardType.code.length) {\n          e.preventDefault();\n        }\n        if (cvc.length >= 4) {\n          e.preventDefault();\n        }\n      }\n    };\n  }, []);\n  var getCVCProps = React.useCallback(function () {\n    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var refKey = _ref6.refKey,\n      props = _objectWithoutProperties(_ref6, [\"refKey\"]);\n    return _objectSpread(_defineProperty({\n      'aria-label': 'CVC',\n      autoComplete: 'cc-csc',\n      id: 'cvc',\n      name: 'cvc',\n      placeholder: cardType ? cardType.code.name : 'CVC',\n      type: 'tel'\n    }, refKey || 'ref', cvcField), props, {\n      onBlur: handleBlurCVC(props),\n      onChange: handleChangeCVC(props, {\n        cardType: cardType\n      }),\n      onFocus: handleFocusCVC(props),\n      onKeyDown: handleKeyDownCVC(props),\n      onKeyPress: handleKeyPressCVC(props, {\n        cardType: cardType\n      })\n    });\n  }, [cardType, handleBlurCVC, handleChangeCVC, handleFocusCVC, handleKeyDownCVC, handleKeyPressCVC]);\n  /** ====== END: CVC STUFF ====== */\n\n  /** ====== START: ZIP STUFF ====== */\n\n  var handleBlurZIP = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onBlur && props.onBlur(e);\n      onBlur && onBlur(e);\n      setFocused(undefined);\n      setInputTouched('zip', true);\n    };\n  }, [onBlur, setInputTouched]);\n  var handleChangeZIP = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      var zip = e.target.value;\n      setInputTouched('zip', false);\n      props.onChange && props.onChange(e);\n      onChange && onChange(e);\n      var zipError = utils.validator.getZIPError(zip, {\n        errorMessages: errorMessages\n      });\n      setInputError('zip', zipError);\n      props.onError && props.onError(zipError);\n    };\n  }, [errorMessages, onChange, setInputError, setInputTouched]);\n  var handleFocusZIP = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onFocus && props.onFocus(e);\n      setFocused('zip');\n    };\n  }, []);\n  var handleKeyDownZIP = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onKeyDown && props.onKeyDown(e);\n      if (e.key === utils.BACKSPACE_KEY_CODE && !e.target.value && autoFocus) {\n        cvcField.current && cvcField.current.focus();\n      }\n    };\n  }, [autoFocus]);\n  var handleKeyPressZIP = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onKeyPress && props.onKeyPress(e);\n      if (e.key !== utils.ENTER_KEY_CODE) {\n        if (!utils.validator.isNumeric(e)) {\n          e.preventDefault();\n        }\n      }\n    };\n  }, []);\n  var getZIPProps = React.useCallback(function () {\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var refKey = _ref7.refKey,\n      props = _objectWithoutProperties(_ref7, [\"refKey\"]);\n    return _objectSpread(_defineProperty({\n      autoComplete: 'off',\n      id: 'zip',\n      maxLength: '6',\n      name: 'zip',\n      placeholder: 'ZIP',\n      type: 'tel'\n    }, refKey || 'ref', zipField), props, {\n      onBlur: handleBlurZIP(props),\n      onChange: handleChangeZIP(props),\n      onFocus: handleFocusZIP(props),\n      onKeyDown: handleKeyDownZIP(props),\n      onKeyPress: handleKeyPressZIP(props)\n    });\n  }, [handleBlurZIP, handleChangeZIP, handleFocusZIP, handleKeyDownZIP, handleKeyPressZIP]);\n  /** ====== END: ZIP STUFF ====== */\n\n  /** ====== START: CARD IMAGE STUFF ====== */\n\n  var getCardImageProps = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var images = props.images || {};\n    return _objectSpread({\n      'aria-label': cardType ? cardType.displayName : 'Placeholder card',\n      children: images[cardType ? cardType.type : 'placeholder'] || images.placeholder,\n      width: '1.5em',\n      height: '1em',\n      viewBox: '0 0 24 16'\n    }, props);\n  }, [cardType]);\n  /** ====== END: CARD IMAGE STUFF ====== */\n  // Set default field errors\n\n  React.useLayoutEffect(function () {\n    if (zipField.current) {\n      var zipError = utils.validator.getZIPError(zipField.current.value, {\n        errorMessages: errorMessages\n      });\n      setInputError('zip', zipError);\n    }\n    if (cvcField.current) {\n      var cvcError = utils.validator.getCVCError(cvcField.current.value, cvcValidator, {\n        errorMessages: errorMessages\n      });\n      setInputError('cvc', cvcError);\n    }\n    if (expiryDateField.current) {\n      var expiryDateError = utils.validator.getExpiryDateError(expiryDateField.current.value, expiryValidator, {\n        errorMessages: errorMessages\n      });\n      setInputError('expiryDate', expiryDateError);\n    }\n    if (cardNumberField.current) {\n      var cardNumberError = utils.validator.getCardNumberError(cardNumberField.current.value, cardNumberValidator, {\n        errorMessages: errorMessages\n      });\n      setInputError('cardNumber', cardNumberError);\n    }\n  }, [cardNumberValidator, cvcValidator, errorMessages, expiryValidator, setInputError]); // Format default values\n\n  React.useLayoutEffect(function () {\n    if (cardNumberField.current) {\n      cardNumberField.current.value = utils.formatter.formatCardNumber(cardNumberField.current.value);\n    }\n    if (expiryDateField.current) {\n      expiryDateField.current.value = utils.formatter.formatExpiry({\n        target: expiryDateField.current\n      });\n    }\n  }, []); // Set default card type\n\n  React.useLayoutEffect(function () {\n    if (cardNumberField.current) {\n      var _cardType = utils.cardTypes.getCardTypeByValue(cardNumberField.current.value);\n      setCardType(_cardType);\n    }\n  }, []);\n  return {\n    getCardImageProps: getCardImageProps,\n    getCardNumberProps: getCardNumberProps,\n    getExpiryDateProps: getExpiryDateProps,\n    getCVCProps: getCVCProps,\n    getZIPProps: getZIPProps,\n    wrapperProps: {\n      error: error,\n      focused: focused,\n      isTouched: isTouched\n    },\n    meta: {\n      cardType: cardType,\n      erroredInputs: erroredInputs,\n      error: error,\n      focused: focused,\n      isTouched: isTouched,\n      touchedInputs: touchedInputs\n    }\n  };\n}\nexport default usePaymentCard;","map":{"version":3,"names":["b","_slicedToArray","c","_objectSpread","d","_defineProperty","e","_objectWithoutProperties","utils","React","usePaymentCard","_ref","arguments","length","undefined","_ref$autoFocus","autoFocus","errorMessages","onBlur","onChange","onError","onTouch","cardNumberValidator","cvcValidator","expiryValidator","cardNumberField","useRef","expiryDateField","cvcField","zipField","_React$useState","useState","cardNumber","expiryDate","cvc","zip","_React$useState2","touchedInputs","setTouchedInputs","_React$useState3","_React$useState4","isTouched","setIsTouched","_React$useState5","_React$useState6","erroredInputs","setErroredInputs","_React$useState7","_React$useState8","error","setError","_React$useState9","_React$useState10","cardType","setCardType","_React$useState11","_React$useState12","focused","setFocused","setInputError","useCallback","input","newError","newErroredInputs","Object","values","find","Boolean","setInputTouched","value","requestAnimationFrame","document","activeElement","tagName","newTouchedInputs","handleBlurCardNumber","props","handleChangeCardNumber","formattedCardNumber","target","replace","cursorPosition","current","selectionStart","cardTypes","getCardTypeByValue","formatter","formatCardNumber","setSelectionRange","cardNumberError","validator","getCardNumberError","focus","handleFocusCardNumber","onFocus","handleKeyPressCardNumber","onKeyPress","key","ENTER_KEY_CODE","isNumeric","preventDefault","hasCardNumberReachedMaxLength","getCardNumberProps","_ref2","refKey","autoComplete","id","name","placeholder","type","handleBlurExpiryDate","handleChangeExpiryDate","formatExpiry","expiryDateError","getExpiryDateError","handleFocusExpiryDate","handleKeyDownExpiryDate","onKeyDown","BACKSPACE_KEY_CODE","handleKeyPressExpiryDate","formattedExpiryDate","getExpiryDateProps","_ref3","handleBlurCVC","handleChangeCVC","_ref4","cvcError","getCVCError","handleFocusCVC","handleKeyDownCVC","handleKeyPressCVC","_ref5","formattedCVC","code","getCVCProps","_ref6","handleBlurZIP","handleChangeZIP","zipError","getZIPError","handleFocusZIP","handleKeyDownZIP","handleKeyPressZIP","getZIPProps","_ref7","maxLength","getCardImageProps","images","displayName","children","width","height","viewBox","useLayoutEffect","_cardType","wrapperProps","meta"],"sources":["/Users/ibragimusupov/Desktop/InteractiveCard/node_modules/react-payment-inputs/es/usePaymentInputs.js"],"sourcesContent":["import './utils/cardTypes-4f45f8d3.js';\nimport './utils/validator-0f41e23d.js';\nimport { b as _slicedToArray, c as _objectSpread, d as _defineProperty, e as _objectWithoutProperties } from './chunk-7eee66c0.js';\nimport './utils/formatter-b0b2372d.js';\nimport utils from './utils/index.js';\nimport React from 'react';\n\nfunction usePaymentCard() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$autoFocus = _ref.autoFocus,\n      autoFocus = _ref$autoFocus === void 0 ? true : _ref$autoFocus,\n      errorMessages = _ref.errorMessages,\n      onBlur = _ref.onBlur,\n      onChange = _ref.onChange,\n      onError = _ref.onError,\n      onTouch = _ref.onTouch,\n      cardNumberValidator = _ref.cardNumberValidator,\n      cvcValidator = _ref.cvcValidator,\n      expiryValidator = _ref.expiryValidator;\n\n  var cardNumberField = React.useRef();\n  var expiryDateField = React.useRef();\n  var cvcField = React.useRef();\n  var zipField = React.useRef();\n  /** ====== START: META STUFF ====== */\n\n  var _React$useState = React.useState({\n    cardNumber: false,\n    expiryDate: false,\n    cvc: false,\n    zip: false\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      touchedInputs = _React$useState2[0],\n      setTouchedInputs = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      isTouched = _React$useState4[0],\n      setIsTouched = _React$useState4[1];\n\n  var _React$useState5 = React.useState({\n    cardNumber: undefined,\n    expiryDate: undefined,\n    cvc: undefined,\n    zip: undefined\n  }),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      erroredInputs = _React$useState6[0],\n      setErroredInputs = _React$useState6[1];\n\n  var _React$useState7 = React.useState(),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      error = _React$useState8[0],\n      setError = _React$useState8[1];\n\n  var _React$useState9 = React.useState(),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      cardType = _React$useState10[0],\n      setCardType = _React$useState10[1];\n\n  var _React$useState11 = React.useState(),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      focused = _React$useState12[0],\n      setFocused = _React$useState12[1];\n\n  var setInputError = React.useCallback(function (input, error) {\n    setErroredInputs(function (erroredInputs) {\n      if (erroredInputs[input] === error) return erroredInputs;\n      var newError = error;\n\n      var newErroredInputs = _objectSpread({}, erroredInputs, _defineProperty({}, input, error));\n\n      if (error) {\n        setError(error);\n      } else {\n        newError = Object.values(newErroredInputs).find(Boolean);\n        setError(newError);\n      }\n\n      onError && onError(newError, newErroredInputs);\n      return newErroredInputs;\n    });\n  }, []); // eslint-disable-line\n\n  var setInputTouched = React.useCallback(function (input, value) {\n    requestAnimationFrame(function () {\n      if (document.activeElement.tagName !== 'INPUT') {\n        setIsTouched(true);\n      } else if (value === false) {\n        setIsTouched(false);\n      }\n    });\n    setTouchedInputs(function (touchedInputs) {\n      if (touchedInputs[input] === value) return touchedInputs;\n\n      var newTouchedInputs = _objectSpread({}, touchedInputs, _defineProperty({}, input, value));\n\n      onTouch && onTouch(_defineProperty({}, input, value), newTouchedInputs);\n      return newTouchedInputs;\n    });\n  }, []); // eslint-disable-line\n\n  /** ====== END: META STUFF ====== */\n\n  /** ====== START: CARD NUMBER STUFF ====== */\n\n  var handleBlurCardNumber = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onBlur && props.onBlur(e);\n      onBlur && onBlur(e);\n      setFocused(undefined);\n      setInputTouched('cardNumber', true);\n    };\n  }, [onBlur, setInputTouched]);\n  var handleChangeCardNumber = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      var formattedCardNumber = e.target.value || '';\n      var cardNumber = formattedCardNumber.replace(/\\s/g, '');\n      var cursorPosition = cardNumberField.current.selectionStart;\n      var cardType = utils.cardTypes.getCardTypeByValue(cardNumber);\n      setCardType(cardType);\n      setInputTouched('cardNumber', false); // @ts-ignore\n\n      cardNumberField.current.value = utils.formatter.formatCardNumber(cardNumber);\n      props.onChange && props.onChange(e);\n      onChange && onChange(e); // Due to the card number formatting, the selection cursor will fall to the end of\n      // the input field. Here, we want to reposition the cursor to the correct place.\n\n      requestAnimationFrame(function () {\n        if (document.activeElement !== cardNumberField.current) return;\n\n        if (cardNumberField.current.value[cursorPosition - 1] === ' ') {\n          cursorPosition = cursorPosition + 1;\n        }\n\n        cardNumberField.current.setSelectionRange(cursorPosition, cursorPosition);\n      });\n      var cardNumberError = utils.validator.getCardNumberError(cardNumber, cardNumberValidator, {\n        errorMessages: errorMessages\n      });\n\n      if (!cardNumberError && autoFocus) {\n        expiryDateField.current && expiryDateField.current.focus();\n      }\n\n      setInputError('cardNumber', cardNumberError);\n      props.onError && props.onError(cardNumberError);\n    };\n  }, [autoFocus, cardNumberValidator, errorMessages, onChange, setInputError, setInputTouched]);\n  var handleFocusCardNumber = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onFocus && props.onFocus(e);\n      setFocused('cardNumber');\n    };\n  }, []);\n  var handleKeyPressCardNumber = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      var formattedCardNumber = e.target.value || '';\n      var cardNumber = formattedCardNumber.replace(/\\s/g, '');\n      props.onKeyPress && props.onKeyPress(e);\n\n      if (e.key !== utils.ENTER_KEY_CODE) {\n        if (!utils.validator.isNumeric(e)) {\n          e.preventDefault();\n        }\n\n        if (utils.validator.hasCardNumberReachedMaxLength(cardNumber)) {\n          e.preventDefault();\n        }\n      }\n    };\n  }, []);\n  var getCardNumberProps = React.useCallback(function () {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var refKey = _ref2.refKey,\n        props = _objectWithoutProperties(_ref2, [\"refKey\"]);\n\n    return _objectSpread(_defineProperty({\n      'aria-label': 'Card number',\n      autoComplete: 'cc-number',\n      id: 'cardNumber',\n      name: 'cardNumber',\n      placeholder: 'Card number',\n      type: 'tel'\n    }, refKey || 'ref', cardNumberField), props, {\n      onBlur: handleBlurCardNumber(props),\n      onChange: handleChangeCardNumber(props),\n      onFocus: handleFocusCardNumber(props),\n      onKeyPress: handleKeyPressCardNumber(props)\n    });\n  }, [handleBlurCardNumber, handleChangeCardNumber, handleFocusCardNumber, handleKeyPressCardNumber]);\n  /** ====== END: CARD NUMBER STUFF ====== */\n\n  /** ====== START: EXPIRY DATE STUFF ====== */\n\n  var handleBlurExpiryDate = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onBlur && props.onBlur(e);\n      onBlur && onBlur(e);\n      setFocused(undefined);\n      setInputTouched('expiryDate', true);\n    };\n  }, [onBlur, setInputTouched]);\n  var handleChangeExpiryDate = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      setInputTouched('expiryDate', false);\n      expiryDateField.current.value = utils.formatter.formatExpiry(e);\n      props.onChange && props.onChange(e);\n      onChange && onChange(e);\n      var expiryDateError = utils.validator.getExpiryDateError(expiryDateField.current.value, expiryValidator, {\n        errorMessages: errorMessages\n      });\n\n      if (!expiryDateError && autoFocus) {\n        cvcField.current && cvcField.current.focus();\n      }\n\n      setInputError('expiryDate', expiryDateError);\n      props.onError && props.onError(expiryDateError);\n    };\n  }, [autoFocus, errorMessages, expiryValidator, onChange, setInputError, setInputTouched]);\n  var handleFocusExpiryDate = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onFocus && props.onFocus(e);\n      setFocused('expiryDate');\n    };\n  }, []);\n  var handleKeyDownExpiryDate = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onKeyDown && props.onKeyDown(e);\n\n      if (e.key === utils.BACKSPACE_KEY_CODE && !e.target.value && autoFocus) {\n        cardNumberField.current && cardNumberField.current.focus();\n      }\n    };\n  }, [autoFocus]);\n  var handleKeyPressExpiryDate = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      var formattedExpiryDate = e.target.value || '';\n      var expiryDate = formattedExpiryDate.replace(' / ', '');\n      props.onKeyPress && props.onKeyPress(e);\n\n      if (e.key !== utils.ENTER_KEY_CODE) {\n        if (!utils.validator.isNumeric(e)) {\n          e.preventDefault();\n        }\n\n        if (expiryDate.length >= 4) {\n          e.preventDefault();\n        }\n      }\n    };\n  }, []);\n  var getExpiryDateProps = React.useCallback(function () {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var refKey = _ref3.refKey,\n        props = _objectWithoutProperties(_ref3, [\"refKey\"]);\n\n    return _objectSpread(_defineProperty({\n      'aria-label': 'Expiry date in format MM YY',\n      autoComplete: 'cc-exp',\n      id: 'expiryDate',\n      name: 'expiryDate',\n      placeholder: 'MM/YY',\n      type: 'tel'\n    }, refKey || 'ref', expiryDateField), props, {\n      onBlur: handleBlurExpiryDate(props),\n      onChange: handleChangeExpiryDate(props),\n      onFocus: handleFocusExpiryDate(props),\n      onKeyDown: handleKeyDownExpiryDate(props),\n      onKeyPress: handleKeyPressExpiryDate(props)\n    });\n  }, [handleBlurExpiryDate, handleChangeExpiryDate, handleFocusExpiryDate, handleKeyDownExpiryDate, handleKeyPressExpiryDate]);\n  /** ====== END: EXPIRY DATE STUFF ====== */\n\n  /** ====== START: CVC STUFF ====== */\n\n  var handleBlurCVC = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onBlur && props.onBlur(e);\n      onBlur && onBlur(e);\n      setFocused(undefined);\n      setInputTouched('cvc', true);\n    };\n  }, [onBlur, setInputTouched]);\n  var handleChangeCVC = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        cardType = _ref4.cardType;\n\n    return function (e) {\n      var cvc = e.target.value;\n      setInputTouched('cvc', false);\n      props.onChange && props.onChange(e);\n      onChange && onChange(e);\n      var cvcError = utils.validator.getCVCError(cvc, cvcValidator, {\n        cardType: cardType,\n        errorMessages: errorMessages\n      });\n\n      if (!cvcError && autoFocus) {\n        zipField.current && zipField.current.focus();\n      }\n\n      setInputError('cvc', cvcError);\n      props.onError && props.onError(cvcError);\n    };\n  }, [autoFocus, cvcValidator, errorMessages, onChange, setInputError, setInputTouched]);\n  var handleFocusCVC = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onFocus && props.onFocus(e);\n      setFocused('cvc');\n    };\n  }, []);\n  var handleKeyDownCVC = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onKeyDown && props.onKeyDown(e);\n\n      if (e.key === utils.BACKSPACE_KEY_CODE && !e.target.value && autoFocus) {\n        expiryDateField.current && expiryDateField.current.focus();\n      }\n    };\n  }, [autoFocus]);\n  var handleKeyPressCVC = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _ref5 = arguments.length > 1 ? arguments[1] : undefined,\n        cardType = _ref5.cardType;\n\n    return function (e) {\n      var formattedCVC = e.target.value || '';\n      var cvc = formattedCVC.replace(' / ', '');\n      props.onKeyPress && props.onKeyPress(e);\n\n      if (e.key !== utils.ENTER_KEY_CODE) {\n        if (!utils.validator.isNumeric(e)) {\n          e.preventDefault();\n        }\n\n        if (cardType && cvc.length >= cardType.code.length) {\n          e.preventDefault();\n        }\n\n        if (cvc.length >= 4) {\n          e.preventDefault();\n        }\n      }\n    };\n  }, []);\n  var getCVCProps = React.useCallback(function () {\n    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var refKey = _ref6.refKey,\n        props = _objectWithoutProperties(_ref6, [\"refKey\"]);\n\n    return _objectSpread(_defineProperty({\n      'aria-label': 'CVC',\n      autoComplete: 'cc-csc',\n      id: 'cvc',\n      name: 'cvc',\n      placeholder: cardType ? cardType.code.name : 'CVC',\n      type: 'tel'\n    }, refKey || 'ref', cvcField), props, {\n      onBlur: handleBlurCVC(props),\n      onChange: handleChangeCVC(props, {\n        cardType: cardType\n      }),\n      onFocus: handleFocusCVC(props),\n      onKeyDown: handleKeyDownCVC(props),\n      onKeyPress: handleKeyPressCVC(props, {\n        cardType: cardType\n      })\n    });\n  }, [cardType, handleBlurCVC, handleChangeCVC, handleFocusCVC, handleKeyDownCVC, handleKeyPressCVC]);\n  /** ====== END: CVC STUFF ====== */\n\n  /** ====== START: ZIP STUFF ====== */\n\n  var handleBlurZIP = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onBlur && props.onBlur(e);\n      onBlur && onBlur(e);\n      setFocused(undefined);\n      setInputTouched('zip', true);\n    };\n  }, [onBlur, setInputTouched]);\n  var handleChangeZIP = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      var zip = e.target.value;\n      setInputTouched('zip', false);\n      props.onChange && props.onChange(e);\n      onChange && onChange(e);\n      var zipError = utils.validator.getZIPError(zip, {\n        errorMessages: errorMessages\n      });\n      setInputError('zip', zipError);\n      props.onError && props.onError(zipError);\n    };\n  }, [errorMessages, onChange, setInputError, setInputTouched]);\n  var handleFocusZIP = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onFocus && props.onFocus(e);\n      setFocused('zip');\n    };\n  }, []);\n  var handleKeyDownZIP = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onKeyDown && props.onKeyDown(e);\n\n      if (e.key === utils.BACKSPACE_KEY_CODE && !e.target.value && autoFocus) {\n        cvcField.current && cvcField.current.focus();\n      }\n    };\n  }, [autoFocus]);\n  var handleKeyPressZIP = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (e) {\n      props.onKeyPress && props.onKeyPress(e);\n\n      if (e.key !== utils.ENTER_KEY_CODE) {\n        if (!utils.validator.isNumeric(e)) {\n          e.preventDefault();\n        }\n      }\n    };\n  }, []);\n  var getZIPProps = React.useCallback(function () {\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var refKey = _ref7.refKey,\n        props = _objectWithoutProperties(_ref7, [\"refKey\"]);\n\n    return _objectSpread(_defineProperty({\n      autoComplete: 'off',\n      id: 'zip',\n      maxLength: '6',\n      name: 'zip',\n      placeholder: 'ZIP',\n      type: 'tel'\n    }, refKey || 'ref', zipField), props, {\n      onBlur: handleBlurZIP(props),\n      onChange: handleChangeZIP(props),\n      onFocus: handleFocusZIP(props),\n      onKeyDown: handleKeyDownZIP(props),\n      onKeyPress: handleKeyPressZIP(props)\n    });\n  }, [handleBlurZIP, handleChangeZIP, handleFocusZIP, handleKeyDownZIP, handleKeyPressZIP]);\n  /** ====== END: ZIP STUFF ====== */\n\n  /** ====== START: CARD IMAGE STUFF ====== */\n\n  var getCardImageProps = React.useCallback(function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var images = props.images || {};\n    return _objectSpread({\n      'aria-label': cardType ? cardType.displayName : 'Placeholder card',\n      children: images[cardType ? cardType.type : 'placeholder'] || images.placeholder,\n      width: '1.5em',\n      height: '1em',\n      viewBox: '0 0 24 16'\n    }, props);\n  }, [cardType]);\n  /** ====== END: CARD IMAGE STUFF ====== */\n  // Set default field errors\n\n  React.useLayoutEffect(function () {\n    if (zipField.current) {\n      var zipError = utils.validator.getZIPError(zipField.current.value, {\n        errorMessages: errorMessages\n      });\n      setInputError('zip', zipError);\n    }\n\n    if (cvcField.current) {\n      var cvcError = utils.validator.getCVCError(cvcField.current.value, cvcValidator, {\n        errorMessages: errorMessages\n      });\n      setInputError('cvc', cvcError);\n    }\n\n    if (expiryDateField.current) {\n      var expiryDateError = utils.validator.getExpiryDateError(expiryDateField.current.value, expiryValidator, {\n        errorMessages: errorMessages\n      });\n      setInputError('expiryDate', expiryDateError);\n    }\n\n    if (cardNumberField.current) {\n      var cardNumberError = utils.validator.getCardNumberError(cardNumberField.current.value, cardNumberValidator, {\n        errorMessages: errorMessages\n      });\n      setInputError('cardNumber', cardNumberError);\n    }\n  }, [cardNumberValidator, cvcValidator, errorMessages, expiryValidator, setInputError]); // Format default values\n\n  React.useLayoutEffect(function () {\n    if (cardNumberField.current) {\n      cardNumberField.current.value = utils.formatter.formatCardNumber(cardNumberField.current.value);\n    }\n\n    if (expiryDateField.current) {\n      expiryDateField.current.value = utils.formatter.formatExpiry({\n        target: expiryDateField.current\n      });\n    }\n  }, []); // Set default card type\n\n  React.useLayoutEffect(function () {\n    if (cardNumberField.current) {\n      var _cardType = utils.cardTypes.getCardTypeByValue(cardNumberField.current.value);\n\n      setCardType(_cardType);\n    }\n  }, []);\n  return {\n    getCardImageProps: getCardImageProps,\n    getCardNumberProps: getCardNumberProps,\n    getExpiryDateProps: getExpiryDateProps,\n    getCVCProps: getCVCProps,\n    getZIPProps: getZIPProps,\n    wrapperProps: {\n      error: error,\n      focused: focused,\n      isTouched: isTouched\n    },\n    meta: {\n      cardType: cardType,\n      erroredInputs: erroredInputs,\n      error: error,\n      focused: focused,\n      isTouched: isTouched,\n      touchedInputs: touchedInputs\n    }\n  };\n}\n\nexport default usePaymentCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}